<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>How to Compile MAME Plus!</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link title=1 href="seven.css" type=text/css rel=stylesheet />
<link title=2 href="emu9.css" type=text/css rel=stylesheet />
<link title=0 href="plus.css" type=text/css rel=stylesheet />
<style>
a {font:12px arial; color:#0b4ea0; text-decoration:underline}
a:hover {color:#091977; text-decoration:underline}
h1 {font: bold 16px Arial;}
p, li {font: 12px Arial;}
td {font: 10px Arial; padding:4px;}
th {font: italic 10px Arial; padding:4px;}
table {border:0; background-color: #EEEEEE}
.doscmd {font:12px Courier New; color:#E0E0E0; padding:2px 2px 2px 20px; margin-bottom:10px}
.bluestyle {color: #0000FF;}
</style>
<base target="_blank">
<script type="text/javascript" src="lang.js"></script>
<script type="text/javascript" src="ui.js"></script>
</head>
<body onLoad="iframeInit()">
<h1>How to Compile MAME Plus! </h1> 
<h1>I. Preparing compile utilities</h1> 
<ul>
  <li>create a root directory for compile utilities; generally, this is called <em>mingw</em></li>
  <li>extract official MAME Development Tools <a href="http://www.mamedev.org/tools/">mingw-mame-20070810.exe</a> into your <em>mingw</em> directory</li>
  <li>extract <a href="http://alleg.sourceforge.net/wip.html">dx80_mgw.zip</a> into your <em>mingw</em> directory</li>
  <li>extract G++ module <a href="http://downloads.sourceforge.net/mingw/gcc-g++-4.2.1-sjlj-2.tar.gz">gcc-g++-4.2.1-sjlj-2.tar.gz</a> into your <em>mingw</em> directory</li>
  <li>extract MAME Plus! extra compile utils <a href="http://mame.emu-zone.org/download/extra_utils-20070123.7z.zip">extra_utils-20070123.7z.zip</a> into your <em>mingw</em> directory</li>
</ul>
<h1>II. Preparing official MAME source</h1> 
<ul>
  <li>create a root directory for mame source code; generally, this is called <em>mamesrc</em></li>
  <li> extract official <a href="http://mamedev.org/release.html">MAME</a> source to <em>mamesrc</em></li>
  <li>  extract official MAME source diff to <em>mamesrc</em>, when <a href="http://mamedev.org/release.html">intermediate updates</a> are available</li>
</ul>
<table> 
  <tr> 
    <th>- File List - </th> 
  </tr> 
  <tr> 
    <td>[MinGW]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[bin]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[include]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[lib]<br> 
      ... <br> 
      [mamesrc]<br> 
      <span class="bluestyle">
&nbsp;&nbsp;[src]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[emu]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[mame]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;[osd]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;...<br> 
&nbsp;&nbsp;makefile
<br> 
&nbsp;&nbsp;0118u1.diff<br />
&nbsp;&nbsp;0118u2.diff<br />
&nbsp;&nbsp;...</span></td> 
  </tr> 
</table> 
<ul>
  <li> apply official patch:<br>
    <div class="doscmd" style="background-color:#000000;">D:\mamesrc&gt;patch -p0 -E&lt;0118u1.diff<br>
      D:\mamesrc&gt;patch -p0 -E&lt;0118u2.diff<br />
    ......</div></li>
  <li>extract  MAME Plus! source diff (<strong>EXACTLY THE SAME VERSION INCLUDING INTERMEDIATE UPDATES AS OFFICIAL MAME</strong>) on top of <em>mamesrc</em></li>
</ul>
<table> 
  <tr> 
    <th>- File List - </th> 
  </tr> 
  <tr> 
    <td>[MinGW]<br> 
      ... <br> 
      [mamesrc]<br> 
      <span class="bluestyle">&nbsp;&nbsp;[src]<br> 
&nbsp;&nbsp;&nbsp;&nbsp;...<br> 
&nbsp;&nbsp;makefile<br>
&nbsp;&nbsp;config.def<br>
&nbsp;&nbsp;env.bat</span></td> 
  </tr> 
</table> 
<h1>III. Compile </h1>
<ul>
  <li> Open env.bat,  modify PATH to your <em>mingw</em> directory:
<div class="doscmd" style="background-color:#000080;">set PATH=D:\MinGW\bin;%PATH%</div>
  </li>
  <li>Run env.bat, then type &quot;mingw32-make&quot; to compile. warnings are expected
<div class="doscmd" style="background-color:#000000;">D:\mamesrc&gt;env<br>
D:\mamesrc&gt;mingw32-make</div>
  </li>
</ul>
</body>
</html>
